!<Scenario>

# random_seed: 0
# Sampling rate for OFDM 2 * 1200 subcarriers * 15kHz spacing
# sampling_rate: 36e6
sampling_rate: 18e5


Modems:

  # Transmitting OFDM modem
  - Transmitter

    carrier_frequency: 3e9
    num_antennas: 1

    WaveformOFDM:

      # Symbol modulation settings
      modulation_order: 16
      oversampling_factor: 2
      subcarrier_spacing: 15e3
      fft_size: 2048
      dc_suppression: False

      # Frame settings
      Resources:

        - repetitions: 10
          cp_ratio: .078125
          elements:
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 5
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 5

        - repetitions: 10
          cp_ratio: 0.0703125
          elements:
            - type: REFERENCE
              repetitions: 12

        - repetitions: 10
          cp_ratio: .0703125
          elements:
            - type: DATA
              repetitions: 3
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 5
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 2

      # Frame configuration in time domain, i.e. the x-axis in the OFDM time-frequency grid
      Structure:

        # Symbol section, repeated 16 times (in time)
        - Symbol
          num_repetitions: 16
          pattern: [0, 1, 1, 1, 2, 1, 1]    # Pattern of frequency resources within this symbol section

        # Symbol section is followed by two guard intervals in time domain
        - Guard
          duration: 1e-3
        - Guard
          duration: 1e-3

  # Receiving OFDM modem
  - Receiver

    carrier_frequency: 3e9
    num_antennas: 1
    reference_transmitter: 0

    WaveformOFDM:

      # Symbol modulation settings
      modulation_order: 16
      oversampling_factor: 2
      subcarrier_spacing: 15e3
      fft_size: 2048
      dc_suppression: False

      # Frame settings
      Resources:

        - repetitions: 100      # Resource repetition in frequency domain
          cp_ratio: .078125
          elements:
            - type: REFERENCE
              repetitions: 1    # Element repetitions in frequency domain
            - type: DATA
              repetitions: 5
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 5

        - repetitions: 1
          cp_ratio: 0.0703125
          elements:
            - type: REFERENCE
              repetitions: 1200

        - repetitions: 100
          cp_ratio: .0703125
          elements:
            - type: DATA
              repetitions: 3
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 5
            - type: REFERENCE
              repetitions: 1
            - type: DATA
              repetitions: 2

      # Frame configuration in time domain, i.e. the x-axis in the OFDM time-frequency grid
      Structure:

        # Symbol section, repeated 16 times (in time)
        - Symbol
          num_repetitions: 16
          pattern: [0, 1, 1, 1, 2, 1, 1]    # Pattern of frequency resources within this symbol section

        # Symbol section is followed by two guard intervals in time domain
        - Guard
          duration: 1e-3
        - Guard
          duration: 1e-3


  # Transmitting QAM modem, interfering with the OFDM transmitter
  - Transmitter

    carrier_frequency: 3.01e9
    num_antennas: 1

    WaveformPskQam:

      # Symbol settings
      symbol_rate: 1e6
      modulation_order: 64
      chirp_bandwidth: 1e9
      chirp_duration: 1e-6
      oversampling_factor: 4

      # Filter settings
      filter:
        filter_type: RAISED_COSINE
        length_in_symbols: 16
        roll_off: .5
        #pulse_width: .5

      # Frame settings
      num_preamble_symbols: 50
      num_data_symbols: 50
      pilot_rate: 1e6
      guard_interval: 1e-6

  # Receiving QAM modem
  - Receiver

    carrier_frequency: 3.01e9
    num_antennas: 1
    reference_transmitter: 1

    WaveformPskQam:

      # Symbol settings
      symbol_rate: 1e6
      modulation_order: 64
      chirp_bandwidth: 1e9
      chirp_duration: 1e-6
      oversampling_factor: 4

      # Filter settings
      filter:
        filter_type: RAISED_COSINE
        length_in_symbols: 16
        roll_off: .5
        #pulse_width: .5

      # Frame settings
      num_preamble_symbols: 50
      num_data_symbols: 50
      pilot_rate: 1e6
      guard_interval: 1e-6

# Channel model configuration
Channels:

  # Channel between first transmitter and first receiver
  - Channel 0 0
    active: true

  # Channel between first transmitter and second receiver
  - Channel 0 1
    active: true

  # Channel between second transmitter and first receiver
  - Channel 1 0
    active: true

  # Channel between second transmitter and second receiver
  - Channel 1 1
    active: true